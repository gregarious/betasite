{% comment %}
Template to render a particular event as a feed item.

Compatible ViewModels: places.viewmodels.EventFeedItem

Context variables:
	event:	subset of Event model (see EventFeedItem ViewModel)

TODO: only show month/day for events ending on a different day
{% endcomment %}
{% load thumbnail %}

{% thumbnail event.image "130x130" crop="center" as im %}
<div class="item-thumb" style="background:url('{{im.url}}');">
    <!-- {# {% thumbnail event.image "130x130" crop="center" as im %} #}
    <img class="thumbnail" alt="{{event.name}}" src="{{im.url}}" /> -->
{% empty %}
<div class="item-thumb" style="background:url('/static/img/default-event.png');">
<!--     <img class="thumbnail" alt="{{event.name}}" src="/static/img/default-event.png" /> -->
{% endthumbnail %}
</div>

<section class="item-content">
	
	<h4 class="item-title"><a href="{% url event-detail event.id %}">{{ event.name|truncatewords:7 }}</a></h4>	

	<ul class="item-details">
		{% if event.place %}
			<li>at <a class="host" href="{% url place-detail event.place.id %}">{{event.place.name}}</a></li>
		{% else %}
			<li>at {{event.place_primitive}}</li>
		{% endif %}
		<li class="datetime">{{event.dtstart|date:"N j, f a"}} - {{event.dtend|date:"N j, f a"}}</li>
		<li class="description">{{event.description|truncatewords:20|urlizetrunc:20}}</li>
	</ul>
	{% include "tags/tag_list.html" with tags=event.tags %}
	
</section>